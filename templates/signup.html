{% extends '_layout' %}
{% set id = 'sign-up' %}
{% set title = 'Craft Training for Busy Developers' %}

{% set content %}
    {#
      Can use:
      - is-control-container to group labes and field to add a little space around
      - has-option-field on a label to mark the control as (Optional)
    #}
    <section class="section section--signup">
        <div class="container">
            <div class="columns">
                <div class="column is-8-desktop is-offset-2-desktop">
                    <div class="form-container">
                        <form @submit.prevent="checkout" id="signup" method="post" accept-charset="UTF-8">
                            <input type="hidden" name="action" :value="action">
                            <input type="hidden" name="redirect" :value="redirect">
                            {{ csrfInput() }}

                            <h2 class="title is-3 is-form-section-title">Basic Info</h2>
                            <div class="is-control-container">
                                {# Outside of control to aligne with label(less) input #}
                                <label class="label">Name</label>
                                <div class="control is-grouped">
                                    <p class="control is-expanded">
                                        <input v-model="firstName" name="firstName" class="input is-large" type="text" :placeholder="us('Brad', 'First')" >
                                    </p>
                                    <p class="control is-expanded has-no-label">
                                        <input v-model="lastName" name="lastName" class="input is-large" type="text" :placeholder="us('Bell', 'Last')" >
                                    </p>
                                </div>
                            </div>

                            <div class="is-control-container">
                                <p class="control">
                                    <label class="label">Country</label>
                                    <span class="select is-large is-full-width">
                                        {% include '_special/country-select' %}
                                    </span>
                                </p>
                            </div>

                            <div class="is-control-container">
                                <div class="control is-grouped">
                                    <p class="control is-expanded">
                                        <label class="label">Address</label>
                                        <input v-model="address1" name="address1" class="input is-large" type="text" :placeholder="us('123 Baker St.')">
                                    </p>
                                    <p class="control is-expanded">
                                        <label class="label has-optional-field">Address 2</label>
                                        <input v-model="address2" name="address2" class="input is-large" type="text" :placeholder="us('Suite 101')">
                                    </p>
                                </div>
                            </div>

                            <div class="is-control-container">
                                <div class="control is-grouped">
                                    <p class="control is-expanded">
                                        <label class="label">City</label>
                                        <input v-model="city" name="city" class="input is-large" type="text" :placeholder="us('New York')">
                                    </p>
                                    <p class="control is-expanded">
                                        <label class="label">
                                            <span v-if="country === 'us'">State</span>
                                            <span v-else>Province</span>
                                        </label>
                                        <input v-model="state" name="state" class="input is-large" type="text" :placeholder="us('NY')" >
                                    </p>
                                    <p class="control is-expanded">
                                        <label class="label">
                                            <span v-if="country === 'us'">Zip</span>
                                            <span v-else>Postal Code</span>
                                        </label>
                                        <input v-model="zip" name="zip" class="input is-large" type="text" :placeholder="us(90210)" >
                                    </p>
                                </div>
                            </div>

    
                            <hr class="is-form-section-divider"/>

                            <h2 class="title is-3  is-form-section-title has-top-margin">Login Info</h2>
                            <div class="is-control-container">
                                <p class="control">
                                    <label class="label">Email</label>
                                    <input v-model="email" name="email" class="input is-large" type="email" :placeholder="us('brad@angry.com', 'email@domain.com')" >
                                </p>
                            </div>

                            <div class="is-control-container">
                                <label class="label">Username</label>
                                <p class="control">
                                    <input v-model="username" name="username" class="input is-large" type="text" :placeholder="us('tacobell', 'username')" autocomplete="off">
                                    <span class="help">
                                        <span class="icon"><i class="fa fa-hand-o-right"></i></span>
                                        <a>
                                            <b v-if="username">{{ siteUrl }}@@{ username }</b>
                                            <b v-else>{{ siteUrl }}@@{ us('tacobell', 'username') }</b>
                                        </a>
                                  </span>
                              </p>
                            </div>

                            <div class="is-control-container">
                                <label class="label">Password</label>
                                <p class="control">
                                    <input class="input is-large" type="password" placeholder="Make it strong" autocomplete="off" >
                                </p>
                            </div>

                            <hr class="is-form-section-divider"/>

                            <h2 class="title is-3 is-form-section-title has-top-margin">Select Your Plan</h2>
                            <div class="is-control-container">
                                <p class="control">
                                    <span class="select is-large is-full-width">
                                        <select name="planId" class="is-full-width">
                                            {% for plan in craft.swipe.plans() %}
                                                <option value="{{ plan.id }}">{{ plan.name }} {{ plan.amount()|currency(plan.currency) }}</option>

                                            {% endfor %}
                                        </select>
                                    </span>
                                </p>
                            </div>

                            <hr class="is-form-section-divider"/>

                            <h2 class="title is-3 is-form-section-title has-top-margin">Enter Card Details</h2>
                            <div class="is-control-container">
                                <label class="label">Number / Expiry (Month &amp; Year) / CCV</label>
                                <div class="control">
                                    <div class="is-stripe-field is-large" id="card-element"></div>
                                    <div class="is-stripe-error" id="card-errors"></div>
                                </div>
                            </div>

                            <div class="is-button-container">
                                <button type="submit" class="button is-info is-large is-full-width-mobile">
                                    <span class="icon"><i class="fa fa-graduation-cap" :class="{ 'is-loading': signingUp }"></i></span>
                                    <span>Sign Up</span>
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>
{% endset %}
