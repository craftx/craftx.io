{% set firstSegment = craft.app.request.segment(1) %}

<nav id="nav" class="nav is-medium has-shadow nav--primary">
  <div class="container">
    <div class="nav-left">
      <a href="/" class="nav-item nav__brand" title="CraftX">
        <img src="/dist/images/CraftX.svg?v=2.1" alt="CraftX Logo">
      </a>
    </div>

    <!-- This "nav-toggle" hamburger menu is only visible on mobile -->
    <!-- You need JavaScript to toggle the "is-active" class on "nav-menu" -->
    <span class="nav-toggle" @click="toggleMobileNav">
      <span></span>
      <span></span>
      <span></span>
    </span>

    <!-- This "nav-menu" is hidden on mobile -->
    <!-- Add the modifier "is-active" to display it on mobile -->

    <div class="nav-right nav-menu" :class="{ 'is-active': mobileNavIsActive }">
      <span class="nav-item">
        <a href="/hangouts" class="button is-info is-outlined {{ firstSegment == 'hangouts' ? 'is-active' }}" title="Hangouts">
          <span class="icon">
            <i class="fa fa-comments-o"></i>
          </span>
          <span>Hangouts</span>
        </a>
      </span>
      {% if user %}
        <span class="nav-item">
          <a href="/@{{ user.username }}" class="button is-info is-outlined {{ firstSegment == '@' ~ user.username ? 'is-active' }}" title="Dashboard">
            <span class="icon">
              <i class="fa fa-desktop"></i>
            </span>
            <span>Dashboard</span>
          </a>
        {% else %}
          <span class="nav-item">
            <a href="/join" class="button is-info is-outlined {{ firstSegment == 'join' ? 'is-active' }}" title="Join our Community">
              <span class="icon">
                <i class="fa fa-heart-o"></i>
              </span>
              <span>Join</span>
            </a>
          </span>
          <span class="nav-item">
            <a href="/login" class="button is-info is-outlined {{ firstSegment == 'login' ? 'is-active' }}" title="Login">
              <span class="icon">
                <i class="fa fa-sign-in"></i>
              </span>
              <span>Login</span>
            </a>
          </span>
        {% endif %}
    </div>
  </div>
</nav>
