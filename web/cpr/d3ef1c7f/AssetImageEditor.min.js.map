{"version":3,"sources":["AssetImageEditor.js"],"names":["Craft","AssetImageEditor","Garnish","Modal","extend","$body","$footer","$imageTools","$buttons","$cancelBtn","$replaceBtn","$saveBtn","$editorContainer","$straighten","$croppingCanvas","canvas","image","viewport","focalPoint","grid","croppingCanvas","clipper","croppingRectangle","cropperHandles","cropperGrid","croppingShade","imageStraightenAngle","viewportRotation","originalWidth","originalHeight","imageVerticeCoords","zoomRatio","animationInProgress","currentView","assetId","cacheBust","draggingCropper","scalingCropper","draggingFocal","previousMouseX","previousMouseY","shiftKeyHeld","editorHeight","editorWidth","cropperState","scaleFactor","flipData","focalPointState","renderImage","renderCropper","init","settings","this","Date","now","setSettings","defaults","x","y","$container","$","appendTo","$bod","base","t","allowSavingAsNew","addListener","saveImage","bind","proxy","removeListener","$shade","setMaxImageSize","postActionRequest","browserViewportWidth","$doc","get","documentElement","clientWidth","browserViewportHeight","clientHeight","maxImageSize","Math","max","loadEditor","data","html","alert","$tabs","$viewsContainer","$views","innerHeight","innerWidth","updateSizeAndPosition","fabric","StaticCanvas","width","height","enableRetinaScaling","requestAnimationFrame","renderAll","imageUrl","getActionUrl","size","Image","fromURL","imageObject","set","originX","originY","left","top","add","getHeight","getWidth","_setFittedImageVerticeCoordinates","_repositionEditorElements","focalState","imageDimensions","getScaledImageDimensions","offsetX","offsetY","focal","focalData","adjustedX","adjustedY","storeFocalPointState","_createFocalPoint","_createViewport","storeCropperState","_addControlListeners","_handleMouseMove","_handleMouseDown","_handleMouseUp","ev","first","trigger","window","css","min-width","min-height","addClass","removeClass","previousEditorDimensions","setDimensions","getZoomToFitRatio","previouslyOccupiedArea","_getBoundingRectangle","_repositionCropper","getZoomToCoverRatio","_repositionImage","_repositionViewport","_repositionFocalPoint","_zoomImage","Rect","fill","globalCompositeOperation","sizeFactor","focalX","focalY","_isCenterInside","deltaX","deltaY","Group","Circle","radius","strokeWidth","stroke","toggleFocalPoint","remove","dimensions","state","scaledImageDimensions","currentWidth","newWidth","ratio","hasOrientationChanged","imageRatio","editorRatio","min","round","rotateImage","flipImage","straighteningInput","SlideRuleInput","onStart","_showGrid","onChange","slider","straighten","onEnd","_hideGrid","_cleanupFocalPointAfterStraighten","keyCode","SHIFT_KEY","_handleTabClick","$tab","currentTarget","view","showView","$view","filter","enableSlider","disableSlider","disableCropMode","enableCropMode","zoomFactor","degrees","parseInt","imageZoomRatio","newAngle","angle","viewportProperties","imageProperties","angleInRadians","PI","newDeltaX","cos","sin","newDeltaY","modifiedDeltaX","modifiedDeltaY","temp","animate","duration","animationDuration","onComplete","cleanAngle","parseFloat","_adjustFocalPointByAngle","axis","editorCenter","setValue","properties","scaleY","scaleX","previousAngle","value","_adjustEditorElementsOnStraighten","newCenterX","newCenterY","angleDelta","currentZoomRatio","adjustmentRatio","cropperCenterX","cropperCenterY","imageVertices","getImageVerticeCoords","rectangle","_getZoomRatioToFitRectangle","opacity","object","containingObject","newFocalX","newFocalY","adjustedFocalX","adjustedFocalY","containingVertices","vertex","rectangleVertices","_getRectangleVertices","verticeIndex","length","arePointsInsideRectangle","edge","_getEdgeCrossed","rectangleCenter","distanceFromVertexToEdge","abs","sqrt","pow","distanceFromCenterToEdge","$button","hasClass","append","postData","imageRotation","replace","cropData","zoom","find","end","onSave","hide","scaledWidth","scaledHeight","boundingBox","_getImageBoundingBox","scale","vertScale","horiScale","getCombinedZoomRatio","i","strokeOptions","lineCount","gridWidth","gridHeight","xStep","yStep","push","Line","onFadeOut","destroy","show","removeAllListeners","_setEditorMode","mode","viewportDimensions","imageCoords","callback","noop","cropperData","_showCropper","_hideCropper","targetZoom","inverseZoomFactor","imageOffsetX","imageOffsetY","clipperData","_setupCropperLayer","_redrawCropperElements","backgroundColor","hoverCursor","selection","position","rectangleRatio","rectWidth","rectHeight","lineOptions","gridOptions","pathGroup","Path","previousImageArea","currentOffset","currentArea","areaFactor","coordinateSet","a","b","c","d","_isMouseOver","move","handle","_cropperHandleHitTest","pageX","pageY","_handleFocalDrag","_handleCropperDrag","_handleCropperResize","_setMouseCursor","vertices","newX","newY","cursor","parentOffset","offset","mouseX","mouseY","lb","rb","tb","bb","event","topLeft","topRight","bottomRight","bottomLeft","zoomMode","topVerticalSegment","bottomVerticalSegment","rightHorizontalSegment","leftHorizontalSegment","verticalOffset","horizontalOffset","_debug","fabricObj","debugger","points","ab","_getVector","bc","scalarAbAb","_getScalarProduct","scalarBcBc","point","ap","bp","scalarAbAp","scalarBcBp","projectsOnAB","projectsOnBC","_getVectorMagnitude","vector","_getAngleBetweenVectors","acos","edgePoints","centerPoint","smallestDiff","edgeCrossed","edgeIndex","toCenter","edgeVector","toVertex","diff","box","proportion"],"mappings":"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","file":"AssetImageEditor.min.js"}