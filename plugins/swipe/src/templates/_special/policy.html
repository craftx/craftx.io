{% spaceless %}
{
    "Statement": [{
        "Resource": "{{ resourceUrl }}",
        "Condition": {
            {{ clientIp is defined ? ('"IpAddress": {"AWS:SourceIp": "'~ clientIp ~ '"},')|raw }}
            "DateLessThan": {"AWS:EpochTime": {{ expirationTimestamp }}}
        }
    }]
}
{% endspaceless %}
